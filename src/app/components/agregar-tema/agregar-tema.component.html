<div id="seccion_header">
  <h4>Agregar temas</h4>
</div>
<nav class="navbar navbar-expand-sm"></nav>
<br />

<ul class="nav nav-tabs" id="myTab" role="tablist">
  <li class="nav-item" role="presentation">
    <button
      class="nav-link active"
      id="home-tab"
      data-bs-toggle="tab"
      data-bs-target="#home"
      type="button"
      role="tab"
      aria-controls="home"
      aria-selected="true"
    >
      Registro de temas
    </button>
  </li>
  <li class="nav-item" role="presentation">
    <button
      class="nav-link"
      id="contact-tab"
      data-bs-toggle="tab"
      data-bs-target="#contact"
      type="button"
      role="tab"
      aria-controls="contact"
      aria-selected="false"
    >
      Agregar actividades a tema
    </button>
  </li>
</ul>

<div class="tab-content" id="myTabContent">
  <div
    class="tab-pane fade show active"
    id="home"
    role="tabpanel"
    aria-labelledby="home-tab"
  >

  <form #Tema="ngForm">

    <div class="row">
      <div class="col-md-1">
        <p class="Negritas mt-4">Área de Conocimiento</p>
      </div>
      <div class="col-md-11" style="align-items: center">
        <br />
        <select class="form-select" aria-label="Default select example">
          <option selected></option>
          <option value="1">Programacion</option>
          <option value="2">Base de Datos</option>
          <option value="3">Calculo</option>
          <option value="4">Algebra</option>
          <option value="5">Formacion Socio Cultural</option>
        </select>
      </div>
    </div>
    <div class="row">
      <div class="table-responsive" id="tabla">
        <table class="table table-bordered table-hover">
          <thead>
            <tr>
              <th scope="col">Nombre</th>
              <th scope="col">Descripción</th>
              <th scope="col">Tema Base</th>
              <th scope="col"></th>
              <th scope="col"></th>
              <th scope="col">Agregar actividades</th>
              <th scope="col">Comentarios</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th scope="row">
                <input
                  type="text"
                  name="Nombre"
                  placeholder="Nombre"
                  style="width: 100%"
                />
              </th>
              <td>
                <input
                  type="text"
                  name="Descripción"
                  placeholder="Descripción"
                  style="width: 100%"
                />
              </td>
              <td>
                <input type="checkbox" name="Tema base" style="width: 100%" />
              </td>
              <td>
                <a><i class="fa-solid fa-circle-check button-green"></i></a>
              </td>
              <td>
                <a><i class="fa-solid fa-circle-xmark button-red"></i></a>
              </td>
              <td></td>
              <td></td>
            </tr>
            <tr>
              <th scope="row">
                <p class="palabras">Programación Orientada a Objetos</p>
              </th>
              <td>
                <p class="palabras">
                  Es un paradigma de programación que viene a innovar la forma
                  de obtener resultados. Los objetos manipulan los datos de
                  entrada para la obtención de datos de salida específicos,
                  donde cada objeto ofrece una funcionalidad especial.
                </p>
              </td>
              <td>Tema base</td>
              <td>
                <a
                  ><i
                    class="fa-solid fa-pen button-blue"
                    style="font-size: 1em"
                  ></i
                ></a>
              </td>
              <td>
                <a
                  ><i
                    class="fa-solid fa-circle-xmark button-red"
                    style="font-size: 1em"
                  ></i
                ></a>
              </td>
              <td>
                <a
                  ><i
                    class="fa-solid fa-plus button-blue"
                    style="font-size: 2em"
                  ></i
                ></a>
              </td>
              <td>
                <button type="button" class="btn btn-info" style="color: #fff">
                  Ver comentarios
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="row" style="text-align: center">
      <div class="col-md-12">
        <div class="btn-group" role="group" aria-label="Basic outlined example">
          <button type="button" class="btn btn-outline-primary"><<</button>
          <button type="button" class="btn btn-outline-primary">1</button>
          <button type="button" class="btn btn-outline-primary">>></button>
        </div>
      </div>
    </div>
  </form>


  </div>

  <div
    class="tab-pane fade"
    id="contact"
    role="tabpanel"
    aria-labelledby="contact-tab"
    style="margin: 1em"
  >

    <form [formGroup]="formActividad">
      <div class="row">
        <!-- <input type="hidden" name="_id"
        formControlName=""
        > -->
        <div class="col-md-1">
          <p class="Negritas" style="text-align: left">Tema</p>
        </div>
        <div class="col-md-11">
          <select formControlName="_id_tema" class="form-select" aria-label="Disabled select example" name="Tema" required>
            <option selected></option>
            <option *ngFor="let tema of temas" value="{{tema._id}}">{{tema.Nombre}}</option>
          </select>
        </div>
      </div>

      <div class="row marginTop">
        <div class="col-md-1">
          <p class="Negritas" style="text-align: left">
            Nombre de la actividad
          </p>
        </div>
        <div class="col-md-11">
          <input
            class="form-control"
            type="text"
            name="Nombre-Actividad"
            id="NombreAct"
            style="width: 100%"
            name="nombre"
            formControlName="Nombre"
          />
        </div>
      </div>
      <div class="row">
        <div class="col-md-1">
          <p class="Negritas" style="text-align: left">Tipo de actividad</p>
        </div>
        <div class="col-md-11">
          <select formControlName="TipoActividad" class="form-select" aria-label="Default select example" name="tipo" >
            <option selected></option>
            <option value="Lectura">Lectura</option>
            <option value="Video">Video</option>
            <option value="Juego">Juego</option>
            <option value="Laboratorio">Laboratorio</option>
            <option value="Quiz">Quiz</option>
          </select>
        </div>
      </div>
      <div class="row marginTop">
        <div class="col-md-1">
          <p class="Negritas" style="text-align: left">Tema prerrequisito</p>
        </div>
        <div class="col-md-11">
          <select formControlName="TemaPrerrequisito" class="form-select" aria-label="Default select example" name="cveTemaPreresiquisto">
            <option selected></option>
            <option *ngFor="let tema of temas" value="{{tema.Nombre}}">{{tema.Nombre}}</option>
          </select>
        </div>
      </div>
      <div class="row marginTop">
        <div class="col-md-1">
          <p class="Negritas" style="text-align: left" >Número de intentos</p>
        </div>
        <div class="col-md-11">
          <input formControlName="Intentos" class="form-control" type="number" name="intentos" min="0" max="999"/>
        </div>
      </div>

      <div class="row marginTop">
        <div class="col-md-1">
          <button class="btn btn-success" type="submit" id="submit" (click)="createActividad()" [disabled]="formActividad.invalid">Guardar</button>
        </div>
        <div class="col-md-1">
          <button type="button" class="btn btn-warning" style="color: #fff" (click)="formActividad.reset();">
            Cancelar
          </button>
        </div>
      </div>

    </form>


    <div
      class="row marginTop table-responsive"
      style="padding: 1vh; text-align: center"
    >
      <table class="table table-bordered table-hover">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Nombre Actividad</th>
            <th scope="col">Descripción</th>
            <th scope="col"></th>
            <th scope="col"></th>
            <th scope="col">Valor</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let act of actividades; let i = index">
            <th scope="row">{{ i+1 }}</th>
            <td>{{ act.Nombre }}</td>
            <td class="text-start" style="color: rgb(8, 148, 184)">
              {{ act.TipoActividad }}
            </td>

            <!-- <td>
              {{act.tipo}}
            </td> -->

            <td [ngSwitch]="act.TipoActividad">
              <a href="/act-QUIZ/{{act._id}}" *ngSwitchCase="'Quiz'">
                <i class="fa-solid fa-pen button-blue" style="font-size: 1.1em"></i>
              </a>
              <a routerLink="/act-laboratorio/{{act._id}}" *ngSwitchCase="'Laboratorio'">
                <i class="fa-solid fa-pen button-blue" style="font-size: 1.1em"></i>
              </a>
              <a *ngSwitchDefault>
                <p>Este tipo de actividad no se maneja</p>
              </a>
            </td>

            <td>
              <a><button class="btn btn-danger" (click)="deleteActividad(act._id)">Eliminar</button></a>
            </td>
            <td>
              <p>{{ act.Valor }} %</p>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
